"use strict";(self.webpackChunkmirai_sdk_doc=self.webpackChunkmirai_sdk_doc||[]).push([[567],{3412:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>c,frontMatter:()=>i,metadata:()=>t,toc:()=>a});var l=r(5893),d=r(1151);const i={slug:"/integrations/webhook"},s="Webhook (optional)",t={id:"Types of Integrations /Webhook",title:"Webhook (optional)",description:"Partner can optionally setup an API Webhook to receive guild-related information from our smart contract.",source:"@site/docs/3. Types of Integrations /5. Webhook.md",sourceDirName:"3. Types of Integrations ",slug:"/integrations/webhook",permalink:"/integrations/webhook",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{slug:"/integrations/webhook"},sidebar:"defaultSidebar",previous:{title:"Full Integration",permalink:"/integrations/full"},next:{title:"Swagger",permalink:"/shards-api/swagger"}},o={},a=[{value:"User Create Guild",id:"user-create-guild",level:2},{value:"User Buy Slot",id:"user-buy-slot",level:2},{value:"User Sell Slot",id:"user-sell-slot",level:2},{value:"User Cancel Sell Slot",id:"user-cancel-sell-slot",level:2},{value:"User Burn Slot",id:"user-burn-slot",level:2},{value:"Change Owner Guild",id:"change-owner-guild",level:2},{value:"Disband Guild",id:"disband-guild",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"webhook-optional",children:"Webhook (optional)"}),"\n",(0,l.jsx)(n.p,{children:"Partner can optionally setup an API Webhook to receive guild-related information from our smart contract."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["method: ",(0,l.jsx)(n.code,{children:"POST"})]}),"\n",(0,l.jsx)(n.li,{children:"body:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "key": "Name Data Event",\n  "value": "Data Event"\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"user-create-guild",children:"User Create Guild"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"          {\n            key: 'newGuild',\n            value: JSON.stringify({\n              _id: newGuild._id.toString(),\n              address: event.data.guild,\n              name: guildInfo.name,\n              users: [user ? user._id : newUser._id],\n              slotPrice: ethers.utils.formatEther(\n                decodeTransaction[0].slotPrice,\n              ),\n              rewardShareForMembers: ethers.utils.formatEther(\n                decodeTransaction[0].rewardShareForMembers,\n              ),\n              txGuildOwnerShare: ethers.utils.formatEther(\n                decodeTransaction[0].txGuildOwnerShare,\n              ),\n              guildOwnerShare: ethers.utils.formatEther(\n                decodeTransaction[0].guildOwnerShare,\n              ),\n              clientId,\n              metadata: action.metadata,\n              owner: {\n                userId: userId,\n                address: transaction.from,\n              },\n            }),\n          },\n"})}),"\n",(0,l.jsx)(n.h2,{id:"user-buy-slot",children:"User Buy Slot"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"          {\n            key: 'userJoinGuild',\n            value: JSON.stringify({\n              guildId: guildRecord._id.toString(),\n              user,\n              clientId: guildRecord.clientId,\n            }),\n          },\n"})}),"\n",(0,l.jsx)(n.h2,{id:"user-sell-slot",children:"User Sell Slot"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"          {\n            key: 'userLeftGuild',\n            value: JSON.stringify({\n              guildId: guildRecord._id.toString(),\n              user: userInfo,\n              clientId: guildRecord.clientId,\n            }),\n          },\n"})}),"\n",(0,l.jsx)(n.h2,{id:"user-cancel-sell-slot",children:"User Cancel Sell Slot"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"          {\n            key: 'userRejoinGuild',\n            value: JSON.stringify({\n              guildId: guildRecord._id.toString(),\n              user,\n              clientId: guildRecord.clientId,\n            }),\n          },\n"})}),"\n",(0,l.jsx)(n.h2,{id:"user-burn-slot",children:"User Burn Slot"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"          {\n            key: 'userBurnSlot',\n            value: JSON.stringify({\n              guildId: guildRecord._id.toString(),\n              user: userInfo,\n              clientId: guildRecord.clientId,\n            }),\n          },\n"})}),"\n",(0,l.jsx)(n.h2,{id:"change-owner-guild",children:"Change Owner Guild"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"{\n            key: 'changeOwnerGuild',\n            value: JSON.stringify({\n              _id: guildRecord._id.toString(),\n              guildAddress: guildRecord.address,\n              oldOwner: {\n                userId: oldUser?.userId,\n                address: oldUser?.address,\n                clientId: oldUser?.clientId,\n              },\n              newOwner: {\n                userId: userNewOwner?.userId,\n                address: userNewOwner?.address,\n                clientId: userNewOwner?.clientId,\n              },\n            }),\n          }\n"})}),"\n",(0,l.jsx)(n.h2,{id:"disband-guild",children:"Disband Guild"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"{\n            key: 'disbandGuild',\n            value: JSON.stringify({\n              _id: guildRecord._id.toString(),\n              address: event.data.guild,\n              name: guildRecord.name,\n              users: [],\n              clientId: guildRecord.clientId,\n              metadata: guildRecord.metadata,\n              owner: null,\n            }),\n          }\n"})})]})}function c(e={}){const{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>t,a:()=>s});var l=r(7294);const d={},i=l.createContext(d);function s(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:s(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);