"use strict";(self.webpackChunkmirai_sdk_doc=self.webpackChunkmirai_sdk_doc||[]).push([[431],{8116:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var r=i(5893),l=i(1151);const s={slug:"/integrations"},t=void 0,a={id:"Types of Integrations /Prerequisites",title:"Prerequisites",description:"Environment setup",source:"@site/docs/3. Types of Integrations /1. Prerequisites.md",sourceDirName:"3. Types of Integrations ",slug:"/integrations",permalink:"/integrations",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{slug:"/integrations"},sidebar:"defaultSidebar",previous:{title:"Unreal Engine",permalink:"/sdk/guides/unreal-engine"},next:{title:"External Integration",permalink:"/integrations/external"}},o={},d=[{value:"Environment setup",id:"environment-setup",level:2},{value:"Game Client",id:"game-client",level:2},{value:"Unity",id:"unity",level:3},{value:"Install Mirai SDK Package",id:"install-mirai-sdk-package",level:4},{value:"Config",id:"config",level:4},{value:"Initialize",id:"initialize",level:4},{value:"JavaScript",id:"javascript",level:3},{value:"UDM File Download",id:"udm-file-download",level:4},{value:"Npm install (private)",id:"npm-install-private",level:4},{value:"Unreal Engine",id:"unreal-engine",level:3},{value:"Before you begin",id:"before-you-begin",level:4},{value:"Download and import the SDK into Project",id:"download-and-import-the-sdk-into-project",level:4},{value:"Game Server",id:"game-server",level:2},{value:"API Authentication (Require)",id:"api-authentication-require",level:3},{value:"Method: <code>GET</code>",id:"method-get",level:4},{value:"Endpoint: <code>YOUR_URL_TO_AUTHEN</code>",id:"endpoint-your_url_to_authen",level:4},{value:"Headers",id:"headers",level:4},{value:"Response",id:"response",level:4},{value:"Example",id:"example",level:4},{value:"Game Config Setup",id:"game-config-setup",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"environment-setup",children:"Environment setup"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Partners should prepare at least 2 environments (development, production)"}),"\n",(0,r.jsxs)(n.li,{children:["Go to Portal to get ",(0,r.jsx)(n.code,{children:"clientId"})," for your Game/Application"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Image",src:i(7919).Z+"",width:"3358",height:"1928"})}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsxs)(n.p,{children:["The development version for Portal is available at\n",(0,r.jsx)("a",{href:"https://portal-game-dev.shards.tech",style:{color:"#007bff",textDecoration:"underline"},target:"_blank",children:" Portal Dev "})]}),(0,r.jsx)(n.p,{children:"The official version Portal would be released soon"})]}),"\n",(0,r.jsx)(n.h2,{id:"game-client",children:"Game Client"}),"\n",(0,r.jsxs)(n.p,{children:["Partners shall need to setup their client in accordance with the game engine, using the ",(0,r.jsx)(n.code,{children:"clientId"})," obtained from our Portal"]}),"\n",(0,r.jsx)(n.h3,{id:"unity",children:"Unity"}),"\n",(0,r.jsx)(n.h4,{id:"install-mirai-sdk-package",children:"Install Mirai SDK Package"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install Package Dependencies"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"com.unity.nuget.newtonsoft-json"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"com.itisnajim.socketiounity"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Go to Window -> Package Manager -> (+) Add from git:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"https://github.com/mirailabs-co/mirai-sdk-unity.git#upm"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"config",children:"Config"}),"\n",(0,r.jsxs)(n.p,{children:["Mirai SDK Settings window will automatically open if there is no ",(0,r.jsx)(n.code,{children:"clientId"})," inserted, or else partner can go to Window -> Mirai SDK Settings."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Select Environment and insert ",(0,r.jsx)(n.code,{children:"clientId"})," under"]}),"\n",(0,r.jsxs)(n.li,{children:["Type ",(0,r.jsx)(n.code,{children:"AppSchema"})," for deeplink callback"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:'"Apply Setting"'})})," to save."]}),"\n",(0,r.jsx)(n.h4,{id:"initialize",children:"Initialize"}),"\n",(0,r.jsxs)(n.p,{children:["If partners want to automatically init when start game, tick on ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:'"Auto Init"'})}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Else, untick and init manualy using the following code:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"await MiraiSDK.InitAsync();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"javascript",children:"JavaScript"}),"\n",(0,r.jsx)(n.h4,{id:"udm-file-download",children:"UDM File Download"}),"\n",(0,r.jsx)("a",{href:"https://cdn.guildtech.io/guild/shardsTech.umd.min.js",style:{color:"#007bff",textDecoration:"underline"},target:"_blank",children:" UDM File "}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"window.ShardsTech = {\n  Connection, // connect websocket\n  Core, // function of shards tech\n};\n"})}),"\n",(0,r.jsx)(n.h4,{id:"npm-install-private",children:"Npm install (private)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"npm install @mirailabs-co/shards-tech\n\nyarn add @mirailabs-co/shards-tech\n"})}),"\n",(0,r.jsx)(n.h3,{id:"unreal-engine",children:"Unreal Engine"}),"\n",(0,r.jsx)(n.h4,{id:"before-you-begin",children:"Before you begin"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify your Unreal Version is Unreal Engine 4.27, 5, or higher."}),"\n",(0,r.jsx)(n.li,{children:"Ensure you have Visual Studio (or Rider) installed; it should be because Unreal Engine depends on it. In order for Unreal Engine to work properly you might need to install the following packages from the Visual Studio Installer: Desktop development with C++, Game development with C++, .NET desktop development."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"download-and-import-the-sdk-into-project",children:"Download and import the SDK into Project"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"In case you don't have an existing project, create a new project"}),"\n",(0,r.jsx)(n.li,{children:"Close the Unreal editor."}),"\n",(0,r.jsx)(n.li,{children:"Create a directory in your project folder and name it Plugins."}),"\n",(0,r.jsx)(n.li,{children:"Download and import the ShardsTech plugin into your project."}),"\n",(0,r.jsx)(n.li,{children:"Open your project in Unreal Engine."}),"\n",(0,r.jsx)(n.li,{children:"You successfully imported the ShardsTech plugin."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"game-server",children:"Game Server"}),"\n",(0,r.jsx)(n.p,{children:"Partners shall need their own server and provide us some APIs below:"}),"\n",(0,r.jsx)(n.h3,{id:"api-authentication-require",children:"API Authentication (Require)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"How ShardsTech auth user",src:i(5466).Z+"",width:"767",height:"761"})}),"\n",(0,r.jsx)(n.p,{children:"To authenticate players, you need to provide a user authentication API (you can configure this in the portal page) according to the following standard"}),"\n",(0,r.jsxs)(n.h4,{id:"method-get",children:["Method: ",(0,r.jsx)(n.code,{children:"GET"})]}),"\n",(0,r.jsxs)(n.h4,{id:"endpoint-your_url_to_authen",children:["Endpoint: ",(0,r.jsx)(n.code,{children:"YOUR_URL_TO_AUTHEN"})]}),"\n",(0,r.jsx)(n.h4,{id:"headers",children:"Headers"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"x-api-key"}),": ",(0,r.jsx)(n.code,{children:"YOUR_API_KEY"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authorization"}),": ",(0,r.jsx)(n.code,{children:"USER_TOKEN"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"response",children:"Response"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If true"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": true,\n  "data": {\n    "userId": "string",\n    "clientId": "string", //optional\n    "name": "string", //optional\n    "email": "string" //optional\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If false"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": false\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"USER_TOKEN"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY1ZmJiMjkxNjMyZWIwNDhmZWZkNjFmMCIsImlhdCI6MTcxMTk1OTk3NCwiZXhwIjoxNzEyNTY0Nzc0fQ.XWD8umlnLvj2OEB7BFaM7BGat-YuH0Ei0EVaufVkVPk"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY1ZmJiMjkxNjMyZWIwNDhmZWZkNjFmMCIsImlhdCI6MTcxMTk1OTk3NCwiZXhwIjoxNzEyNTY0Nzc0fQ.XWD8umlnLvj2OEB7BFaM7BGat-YuH0Ei0EVaufVkVPk"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"e44cf287-d020-4dce-8676-43cae109e47f"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"YOUR_API_KEY"})," (from partner side) (optional): TawgLczxMBpmfDjp301EH6tnZzJrrQ"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"YOUR_URL_TO_AUTHEN"}),": users/profile"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-curl",children:"curl --location 'http://gamebackend.com/users/profile' \\\n--header 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE3MTEwMTc1NjAsImV4cCI6MTcxMTYyMjM2MH0.vjVBLQ9Ob3GnNZsVSasdZnWpYptDyLX1XZqrB5Iu8A8'\n--header 'x-api-key: TawgLczxMBpmfDjp301EH6tnZzJrrQ'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"game-config-setup",children:"Game Config Setup"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Partners can config these sections in our self-integration Portal instead"})})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Partners need to set up Game Config such as ",(0,r.jsx)(n.code,{children:"callBack"})," (",(0,r.jsx)(n.code,{children:"AppSchema"}),"), ",(0,r.jsx)(n.code,{children:"authorizationGameServerUrl"}),", webhook via\n",(0,r.jsx)(n.a,{href:"../shards-api/game-config",children:(0,r.jsx)("ins",{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"API Game Config"})})})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n"authorizationGameServerUrl": "The authorization URL for the game server",\n"callBack": "The appschema to callback your game",\n"webHook": "The webhook URL of the game (optional)"\n}\n'})}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Partners can config on/off some features, such as: Request/Approve Join Guild"}),"\n",(0,r.jsxs)(n.li,{children:["Partners can create leaderboards via ",(0,r.jsx)(n.a,{href:"../shards-api/leaderboard",children:(0,r.jsx)("ins",{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"API Leaderboard"})})})})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},7919:(e,n,i)=>{i.d(n,{Z:()=>r});const r=i.p+"assets/images/PortalClientId-e78a2ce2067e37c595370207580c7820.png"},5466:(e,n,i)=>{i.d(n,{Z:()=>r});const r=i.p+"assets/images/ShardsAuth-0dabfef74b154715da9667e7058f062a.png"},1151:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>t});var r=i(7294);const l={},s=r.createContext(l);function t(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);